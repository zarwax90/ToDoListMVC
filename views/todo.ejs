<!DOCTYPE html>
<html>

<head>
    <title>ToDo List</title>
    <style>
        a {
            text-decoration: none;
            color: black;
        }
    </style>
</head>

<body>
    <h1>Liste des tâches</h1>
    <ul>
        <script type="text/javascript">
            function showHideForm(formid) {
                var _form = document.getElementById(formid);
                _form.style.display = (_form.style.display != "block") ? "block" : "none";
                return false;
            }
        </script>

        <% todolist.forEach(function(todo, index) { %>
            <li><button><a href="/todo/supprimer/<%=index%>">✘</a></button>
                <button onclick="showHideForm('<%= index %>');">✎</button>
                <%= todo %>
                    <form action="/todo/modifier/<%=index%>" id="<%= index %>" style="display: none;" method="post">
                        <input type="text" name="itemupdate" id="itemupdate" autofocus />
                        <input type="submit" value="OK" />
                    </form>

            </li>

            <% }); %>

                <form action="/todo/ajouter" method="post">
                    <p>
                        <label for="newtodo">Que dois-je faire ?</label>
                        <input type="text" name="newtodo" id="newtodo" autofocus />
                        <input type="submit" value="Ajouter" />
                    </p>
                </form>

    </ul>

</body>

</html>